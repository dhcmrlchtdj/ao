# 2013/05/10
+ 完成了些修复性的工作。之后就是开线程写入的事情了。
+ 目前这个就当成 0.2 版吧。
+ 结果一天下来，就是抓了几只小臭虫和修了一些致命的错误。

# 2013/05/09
+ 之前的日期都怎么回事……  
+ 对于`fd`和`task_t`的这个关联数组，不管哈希还是平衡二叉树，都显得太复杂了。  
    准备直接遍历，毕竟就这么小的一个数组。
+ 加上了信号处理。把部分包裹函数简化一下，不知道这么搞好不好。
+ 修复了个定时器的 bug。
    毫秒、微秒、纳秒，之前把 millisecond 和 microsecond 看混了。
+ 明天把存储完善一下，要不要开个线程进行写入，具体怎么实现，都要看一下。

# 2013/05/08
怎么处理每个`task_t`，这倒是个问题。用 hash 的话，会不会有点小题大作……

# 2013/05/08
给`task_t`加上`todo`后，整个程序就好写了很多。程序设计是个重要工作呀。

# 2013/05/07
写着写着想起来，`malloc`不是线程安全的……  
上网搜了一圈，原来还是可以用`malloc`的嘛。

+ <http://stackoverflow.com/questions/855763/malloc-thread-safe>
+ <http://chaoslawful.iteye.com/blog/568602>

# 2013/05/05
比预想的还麻烦些，一直调整各种接口。写程序前设计好的话，会轻松很多吧。
现在写得好累……

# 2013/05/04
又拖了好久，脑袋里倒是在想，一直没动手。
计划赶不上变化，本着一个文件描述符只由一个线程控制的想法，
准备一个线程下载，一个线程写入，不用线程池了。

不知道同步有多大影响。

# 2013/04/29
都一个月没动作了，接下来准备完成下面的工作。
+ 使用 epoll 进行下载。
+ 使用线程池进行写入。
+ 使用 signalfd 处理信号。

# 2013/03/27
+ 用`wb`来读取文件，我真是服了我自己。
+ 现在又搞出溢出之类的问题，疯了。
+ 结果还是内存分配的问题，总算解决了。
+ c 语言调试确实累人……其实问题都找出来了，就是一直没看明白。
+ 修改了点细节，今天会出现`Connection reset by peer`的情况，要怎么处理下。
+ 改用`sigaction`来处理信号了，其实没看出什么区别……
+ 修复了一个关于文件大小的 bug，会导致剩余时间为负数。不能获取实际大小还真是个问题。

# 2013/03/26
+ 折腾了一上午，把进度条的速度和剩余时间都弄出来了，还可以再改进就是了。
+ 中途还发现了个请求错误，返回`600`的情况，把这个 bug 修了。
+ 重定向返回中文的情况下，存在编码问题，要找时间看一下。
+ 准备搞定断点续传。
+ 理论上应该是可以断点续传了，不知道为什么无法写入文件，待修复。
+ 之前是 bug，现在是文件读取上有问题，待修复。

# 2013/03/25
+ 测试输出时把系统卡到没法动了。
+ 把`unsigned long`改成了`off_t`。
+ 自动重命名
+ 搞了一下午线程同步，各种信号，最后感觉就现在这样就好了……
+ 忙了一晚上，进度条搞定。速度和时间要继续修改下。
+ 另：信号处理真是各种坑……
+ 又及：线程同步也是各种坑……

# 2013/03/24
+ 突然发现使用 epoll 的话好多东西要改，先实现其他方法算了。
+ 算是完成了多线程的基础，明天继续改。

# 2013/03/23
算是完成了最基础的部分，之后就是 epoll/thread/process，还有输出。

# 2013/03/20
差很多功能，慢慢改。
